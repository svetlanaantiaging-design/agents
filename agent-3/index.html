<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>–ê–≥–µ–Ω—Ç 3 ‚Äî –ú–∞—Ä–∫–µ—Ç–∏–Ω–≥ –∫–∞–Ω–∞–ª—ã</title>
  <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;600;700&family=DM+Sans:wght@300;400;500;600&display=swap" rel="stylesheet">
  <style>
    *, *::before, *::after { box-sizing: border-box; margin: 0; padding: 0; }
    :root {
      --ink: #0f0f0f; --paper: #f8f5f0; --cream: #efe9df;
      --gold: #c9a84c; --gold-light: #e8d5a3; --muted: #7a7268;
      --border: #ddd5c8; --white: #fff;
      --green: #1a6b3c; --green-bg: #e8f5ee;
      --red: #c0392b; --red-bg: #fde8e6;
      --blue: #1d4ed8; --blue-bg: #e8f0fe;
      --orange: #c2410c; --orange-bg: #fff0e6;
    }
    body { font-family: 'DM Sans', sans-serif; background: var(--paper); color: var(--ink); min-height: 100vh; }
    .page { display: flex; min-height: 100vh; }

    /* LEFT PANEL */
    .left-panel { width: 300px; flex-shrink: 0; background: var(--ink); color: #fff; padding: 40px 32px; display: flex; flex-direction: column; position: sticky; top: 0; height: 100vh; }
    .logo { font-family: 'Playfair Display', serif; font-size: 18px; font-weight: 700; color: var(--gold); margin-bottom: 6px; }
    .agent-badge { display: inline-block; font-size: 10px; letter-spacing: 0.12em; text-transform: uppercase; color: var(--gold); border: 1px solid rgba(201,168,76,0.4); padding: 3px 10px; border-radius: 20px; margin-bottom: 28px; }
    .panel-title { font-family: 'Playfair Display', serif; font-size: 22px; font-weight: 600; line-height: 1.3; margin-bottom: 8px; }
    .panel-sub { font-size: 12px; color: rgba(255,255,255,0.4); line-height: 1.6; margin-bottom: 32px; }

    .channel-list { flex: 1; }
    .channel-item { display: flex; align-items: center; gap: 10px; padding: 8px 0; opacity: 0.3; border-bottom: 1px solid rgba(255,255,255,0.06); }
    .channel-item.active { opacity: 1; }
    .channel-item.recommended { opacity: 0.7; }
    .ch-icon { font-size: 16px; width: 24px; text-align: center; }
    .ch-name { font-size: 12px; }
    .ch-badge { margin-left: auto; font-size: 9px; padding: 2px 6px; border-radius: 3px; }
    .ch-badge.top { background: rgba(201,168,76,0.2); color: var(--gold); }
    .ch-badge.no { background: rgba(255,255,255,0.08); color: rgba(255,255,255,0.3); }

    /* RIGHT PANEL */
    .right-panel { flex: 1; padding: 56px 72px; max-width: 700px; }

    .step-number { font-size: 11px; font-weight: 500; color: var(--gold); letter-spacing: 0.1em; text-transform: uppercase; margin-bottom: 8px; }
    .step-heading { font-family: 'Playfair Display', serif; font-size: 32px; font-weight: 600; line-height: 1.2; margin-bottom: 8px; }
    .step-hint { font-size: 14px; color: var(--muted); margin-bottom: 36px; line-height: 1.6; }

    /* FIELDS */
    .field { margin-bottom: 22px; }
    .field-label { display: block; font-size: 11px; font-weight: 600; color: var(--ink); letter-spacing: 0.08em; text-transform: uppercase; margin-bottom: 8px; }
    .field-label span { color: var(--gold); }
    input[type="text"], input[type="number"] {
      width: 100%; padding: 13px 16px; border: 1.5px solid var(--border); border-radius: 6px;
      font-family: 'DM Sans', sans-serif; font-size: 14px; color: var(--ink);
      background: var(--white); outline: none; transition: border-color 0.2s;
    }
    input:focus { border-color: var(--gold); box-shadow: 0 0 0 3px rgba(201,168,76,0.1); }
    .inline-2 { display: grid; grid-template-columns: 1fr 1fr; gap: 14px; }

    /* CHIPS */
    .chips { display: flex; flex-wrap: wrap; gap: 8px; }
    .chip { padding: 8px 16px; border: 1.5px solid var(--border); border-radius: 6px; background: var(--white); font-size: 13px; color: var(--ink); cursor: pointer; transition: all 0.15s; font-family: 'DM Sans', sans-serif; }
    .chip:hover { border-color: var(--gold-light); }
    .chip.selected { border-color: var(--gold); background: #fffbee; font-weight: 500; }

    .divider { height: 1px; background: var(--border); margin: 28px 0; }

    .btn-primary { display: inline-flex; align-items: center; gap: 10px; background: var(--gold); color: var(--ink); border: none; border-radius: 6px; padding: 14px 36px; font-family: 'DM Sans', sans-serif; font-size: 15px; font-weight: 600; cursor: pointer; transition: all 0.2s; margin-top: 32px; }
    .btn-primary:hover { background: #b8952f; transform: translateY(-1px); box-shadow: 0 4px 16px rgba(201,168,76,0.3); }

    /* LOADING */
    .loading-wrap { display: flex; flex-direction: column; align-items: center; justify-content: center; min-height: 70vh; }
    .spinner { width: 48px; height: 48px; border: 2.5px solid var(--border); border-top-color: var(--gold); border-radius: 50%; animation: spin 0.8s linear infinite; margin-bottom: 20px; }
    @keyframes spin { to { transform: rotate(360deg); } }
    .loading-title { font-family: 'Playfair Display', serif; font-size: 24px; margin-bottom: 6px; }
    .loading-sub { font-size: 13px; color: var(--muted); }
    .loading-steps { margin-top: 24px; display: flex; flex-direction: column; gap: 8px; }
    .lst { display: flex; align-items: center; gap: 8px; font-size: 12px; color: var(--muted); }
    .lst.done { color: var(--green); }
    .lst.active { color: var(--ink); font-weight: 500; }
    .lst-dot { width: 6px; height: 6px; border-radius: 50%; background: var(--border); flex-shrink: 0; }
    .lst.done .lst-dot { background: var(--green); }
    .lst.active .lst-dot { background: var(--gold); }

    /* RESULTS */
    .results-wrap { max-width: 760px; }
    .results-header { margin-bottom: 32px; }
    .results-title { font-family: 'Playfair Display', serif; font-size: 28px; margin-bottom: 6px; }
    .results-sub { font-size: 13px; color: var(--muted); }

    /* CHANNEL CARDS */
    .channel-cards { display: flex; flex-direction: column; gap: 16px; margin-bottom: 28px; }
    .channel-card { background: var(--white); border: 1.5px solid var(--border); border-radius: 12px; overflow: hidden; }
    .channel-card.top-pick { border-color: var(--gold); }
    .channel-card-header { padding: 20px 24px; display: flex; align-items: flex-start; gap: 16px; }
    .channel-rank { width: 36px; height: 36px; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 16px; flex-shrink: 0; }
    .rank-1 { background: var(--gold); }
    .rank-2 { background: var(--cream); }
    .rank-3 { background: var(--cream); }
    .channel-card-title { font-size: 17px; font-weight: 600; margin-bottom: 3px; }
    .channel-card-type { font-size: 12px; color: var(--muted); }
    .channel-timing { margin-left: auto; text-align: right; flex-shrink: 0; }
    .timing-label { font-size: 10px; color: var(--muted); text-transform: uppercase; letter-spacing: 0.06em; }
    .timing-val { font-size: 13px; font-weight: 500; color: var(--ink); }

    .channel-metrics { display: grid; grid-template-columns: repeat(4, 1fr); gap: 0; border-top: 1px solid var(--cream); }
    .metric-cell { padding: 14px 20px; border-right: 1px solid var(--cream); }
    .metric-cell:last-child { border-right: none; }
    .metric-label { font-size: 10px; text-transform: uppercase; letter-spacing: 0.06em; color: var(--muted); margin-bottom: 5px; }
    .metric-val { font-size: 16px; font-weight: 600; }
    .metric-val.green { color: var(--green); }
    .metric-val.gold { color: #8a6800; }
    .metric-val.blue { color: var(--blue); }

    .channel-why { padding: 14px 24px; background: #fafaf8; border-top: 1px solid var(--cream); font-size: 13px; color: var(--muted); line-height: 1.6; display: flex; gap: 10px; }
    .why-icon { flex-shrink: 0; }

    /* NOT RECOMMENDED */
    .not-rec-section { background: var(--white); border: 1px solid var(--border); border-radius: 10px; padding: 20px 24px; margin-bottom: 24px; }
    .not-rec-title { font-size: 13px; font-weight: 600; color: var(--muted); margin-bottom: 12px; }
    .not-rec-items { display: flex; flex-wrap: wrap; gap: 8px; }
    .not-rec-item { display: flex; align-items: center; gap: 6px; padding: 6px 12px; border: 1px solid var(--border); border-radius: 6px; font-size: 12px; color: var(--muted); }
    .not-rec-reason { font-size: 11px; color: #c0392b; margin-left: 4px; }

    /* BUDGET TABLE */
    .budget-section { background: var(--white); border: 1px solid var(--border); border-radius: 12px; overflow: hidden; margin-bottom: 24px; }
    .budget-header { padding: 20px 24px; border-bottom: 1px solid var(--cream); }
    .budget-title { font-family: 'Playfair Display', serif; font-size: 18px; margin-bottom: 2px; }
    .budget-sub { font-size: 12px; color: var(--muted); }
    table { width: 100%; border-collapse: collapse; }
    th { background: var(--ink); color: #fff; padding: 10px 16px; text-align: left; font-size: 11px; text-transform: uppercase; letter-spacing: 0.06em; font-weight: 500; }
    td { padding: 12px 16px; border-bottom: 1px solid var(--cream); font-size: 13px; }
    tr:last-child td { border-bottom: none; font-weight: 600; background: #fffbee; }
    .td-green { color: var(--green); font-weight: 600; }
    .td-gold { color: #8a6800; font-weight: 600; }

    /* WEEK PLAN */
    .plan-section { background: var(--ink); color: #fff; border-radius: 12px; padding: 28px 32px; margin-bottom: 24px; }
    .plan-title { font-family: 'Playfair Display', serif; font-size: 20px; margin-bottom: 4px; }
    .plan-sub { font-size: 12px; color: rgba(255,255,255,0.4); margin-bottom: 24px; }
    .week-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 16px; }
    .week-card { background: rgba(255,255,255,0.05); border: 1px solid rgba(255,255,255,0.08); border-radius: 8px; padding: 16px; }
    .week-label { font-size: 10px; text-transform: uppercase; letter-spacing: 0.1em; color: var(--gold); margin-bottom: 8px; }
    .week-title { font-size: 14px; font-weight: 600; margin-bottom: 10px; }
    .week-tasks { display: flex; flex-direction: column; gap: 6px; }
    .week-task { font-size: 12px; color: rgba(255,255,255,0.6); display: flex; gap: 8px; line-height: 1.4; }
    .task-dot { color: var(--gold); flex-shrink: 0; margin-top: 1px; }

    /* NEXT STEP */
    .next-card { background: linear-gradient(135deg, #fffbee, #fff8e1); border: 1px solid var(--gold-light); border-radius: 12px; padding: 24px 28px; display: flex; align-items: center; justify-content: space-between; gap: 20px; margin-bottom: 14px; }
    .next-label { font-size: 10px; color: var(--gold); letter-spacing: 0.12em; text-transform: uppercase; margin-bottom: 4px; }
    .next-title { font-family: 'Playfair Display', serif; font-size: 18px; margin-bottom: 4px; }
    .next-desc { font-size: 12px; color: var(--muted); }
    .btn-next { background: var(--gold); color: var(--ink); border: none; border-radius: 6px; padding: 12px 24px; font-family: 'DM Sans', sans-serif; font-size: 13px; font-weight: 600; cursor: pointer; white-space: nowrap; transition: background 0.2s; }
    .btn-next:hover { background: #b8952f; }
    .btn-outline { background: none; border: 1.5px solid var(--border); border-radius: 6px; padding: 11px 24px; font-family: 'DM Sans', sans-serif; font-size: 13px; color: var(--muted); cursor: pointer; transition: all 0.2s; }
    .btn-outline:hover { border-color: var(--ink); color: var(--ink); }

    @media (max-width: 860px) {
      .left-panel { display: none; }
      .right-panel { padding: 32px 20px; max-width: 100%; }
      .inline-2 { grid-template-columns: 1fr; }
      .channel-metrics { grid-template-columns: 1fr 1fr; }
      .week-grid { grid-template-columns: 1fr; }
    }
  </style>
</head>
<body>
<div id="root"></div>
<script src="https://unpkg.com/react@18/umd/react.production.min.js" crossorigin></script>
<script src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js" crossorigin></script>
<script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
<script type="text/babel">
const { useState, useEffect } = React;

const fmt = n => n >= 1000000 ? (n/1000000).toFixed(1)+'–ú' : n >= 1000 ? Math.round(n/1000)+'–ö' : n;

// ‚îÄ‚îÄ‚îÄ –ë–ê–ó–ê –ö–ê–ù–ê–õ–û–í ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
const CHANNELS_DB = {
  google: {
    name: 'Google Ads', icon: 'üîç', type: '–ö–æ–Ω—Ç–µ–∫—Å—Ç–Ω–∞—è —Ä–µ–∫–ª–∞–º–∞',
    timing: '1‚Äì2 –Ω–µ–¥–µ–ª–∏', timingType: '–±—ã—Å—Ç—Ä—ã–π',
    cpl: [500, 2000], conv: [20, 35], minBudget: 50000,
    works: { b2b: true, b2c: true, age_young: true, age_mid: true, age_old: true },
    why: '–õ—é–¥–∏ —Å–∞–º–∏ –∏—â—É—Ç —Ä–µ—à–µ–Ω–∏–µ –≤ Google ‚Äî –≤—ã –ø–æ—è–≤–ª—è–µ—Ç–µ—Å—å –≤ –Ω—É–∂–Ω—ã–π –º–æ–º–µ–Ω—Ç. –°–∞–º—ã–π –≤—ã—Å–æ–∫–∏–π –Ω–∞–º–µ—Ä–µ–Ω–Ω—ã–π —Å–ø—Ä–æ—Å.',
    notFor: [],
  },
  instagram: {
    name: 'Instagram Ads', icon: 'üì∏', type: '–¢–∞—Ä–≥–µ—Ç–∏—Ä–æ–≤–∞–Ω–Ω–∞—è —Ä–µ–∫–ª–∞–º–∞',
    timing: '3‚Äì5 –¥–Ω–µ–π', timingType: '–æ—á–µ–Ω—å –±—ã—Å—Ç—Ä—ã–π',
    cpl: [200, 1000], conv: [10, 25], minBudget: 30000,
    works: { b2b: false, b2c: true, age_young: true, age_mid: true, age_old: false },
    why: '–í–∏–∑—É–∞–ª—å–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç ‚Äî –∏–¥–µ–∞–ª–µ–Ω –∫–æ–≥–¥–∞ –µ—Å—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç –∫–æ—Ç–æ—Ä—ã–π –º–æ–∂–Ω–æ –ø–æ–∫–∞–∑–∞—Ç—å (–¥–æ/–ø–æ—Å–ª–µ, –ø—Ä–∏–º–µ—Ä—ã —Ä–∞–±–æ—Ç, –∞—Ç–º–æ—Å—Ñ–µ—Ä–∞).',
    notFor: ['B2B', '–ê—É–¥–∏—Ç–æ—Ä–∏—è 55+'],
  },
  tiktok: {
    name: 'TikTok Ads', icon: 'üéµ', type: '–í–∏–¥–µ–æ—Ä–µ–∫–ª–∞–º–∞',
    timing: '3‚Äì7 –¥–Ω–µ–π', timingType: '–±—ã—Å—Ç—Ä—ã–π',
    cpl: [100, 500], conv: [5, 15], minBudget: 20000,
    works: { b2b: false, b2c: true, age_young: true, age_mid: false, age_old: false },
    why: '–°–∞–º—ã–π –¥–µ—à—ë–≤—ã–π CPL –Ω–∞ —Ä—ã–Ω–∫–µ. –†–∞–±–æ—Ç–∞–µ—Ç —Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ –∞—É–¥–∏—Ç–æ—Ä–∏—è 18‚Äì35 –∏ –µ—Å—Ç—å —Ö–∞—Ä–∏–∑–º–∞—Ç–∏—á–Ω—ã–π –≤–∏–¥–µ–æ-–∫–æ–Ω—Ç–µ–Ω—Ç.',
    notFor: ['B2B', '–ê—É–¥–∏—Ç–æ—Ä–∏—è 35+'],
  },
  linkedin: {
    name: 'LinkedIn', icon: 'üíº', type: 'B2B —Ä–µ–∫–ª–∞–º–∞',
    timing: '1‚Äì2 –Ω–µ–¥–µ–ª–∏', timingType: '–±—ã—Å—Ç—Ä—ã–π',
    cpl: [1000, 3000], conv: [15, 30], minBudget: 50000,
    works: { b2b: true, b2c: false, age_young: false, age_mid: true, age_old: true },
    why: '–ü—Ä—è–º–æ–π –≤—ã—Ö–æ–¥ –Ω–∞ –ª–∏—Ü –ø—Ä–∏–Ω–∏–º–∞—é—â–∏—Ö —Ä–µ—à–µ–Ω–∏—è. –î–æ—Ä–æ–≥–æ, –Ω–æ –∫–∞—á–µ—Å—Ç–≤–æ –ª–∏–¥–æ–≤ –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ –¥–ª—è B2B.',
    notFor: ['B2C', '–ê—É–¥–∏—Ç–æ—Ä–∏—è 18‚Äì25'],
  },
  telegram: {
    name: 'Telegram –∫–∞–Ω–∞–ª', icon: '‚úàÔ∏è', type: '–ö–æ–Ω—Ç–µ–Ω—Ç-–º–∞—Ä–∫–µ—Ç–∏–Ω–≥',
    timing: '2‚Äì3 –º–µ—Å—è—Ü–∞', timingType: '–¥–æ–ª–≥–æ—Å—Ä–æ—á–Ω—ã–π',
    cpl: [0, 500], conv: [2, 10], minBudget: 0,
    works: { b2b: true, b2c: true, age_young: true, age_mid: true, age_old: false },
    why: '–ë–µ—Å–ø–ª–∞—Ç–Ω—ã–π –∫–∞–Ω–∞–ª –¥–ª—è —É–¥–µ—Ä–∂–∞–Ω–∏—è –∏ –ø—Ä–æ–≥—Ä–µ–≤–∞ –∞—É–¥–∏—Ç–æ—Ä–∏–∏. –°—Ç—Ä–æ–∏—Ç –ª–∏—á–Ω—ã–π –±—Ä–µ–Ω–¥ –∏ –¥–æ–≤–µ—Ä–∏–µ.',
    notFor: ['–ù—É–∂–µ–Ω –±—ã—Å—Ç—Ä—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç'],
  },
  cold: {
    name: '–•–æ–ª–æ–¥–Ω—ã–µ –ø–∏—Å—å–º–∞ / DM', icon: 'üìß', type: '–•–æ–ª–æ–¥–Ω—ã–π –æ—Ö–≤–∞—Ç',
    timing: '1‚Äì2 –Ω–µ–¥–µ–ª–∏', timingType: '–±—ã—Å—Ç—Ä—ã–π',
    cpl: [300, 700], conv: [15, 25], minBudget: 10000,
    works: { b2b: true, b2c: false, age_young: false, age_mid: true, age_old: true },
    why: '–ü–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–π –ø–æ–¥—Ö–æ–¥ –∫ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–º –∫–æ–º–ø–∞–Ω–∏—è–º. –°–∞–º—ã–π –≤—ã—Å–æ–∫–∏–π ROI –ø—Ä–∏ –Ω–∞–ª–∏—á–∏–∏ —Å–ø–∏—Å–∫–∞ –∫–æ–Ω—Ç–∞–∫—Ç–æ–≤.',
    notFor: ['B2C', '–ú–∞—Å—Å–æ–≤–∞—è –∞—É–¥–∏—Ç–æ—Ä–∏—è'],
  },
  referral: {
    name: '–ü–∞—Ä—Ç–Ω—ë—Ä—Å—Ç–≤–∞ –∏ —Ä–µ—Ñ–µ—Ä–∞–ª—ã', icon: 'ü§ù', type: '–°–∞—Ä–∞—Ñ–∞–Ω–Ω—ã–π –º–∞—Ä–∫–µ—Ç–∏–Ω–≥',
    timing: '1‚Äì4 –Ω–µ–¥–µ–ª–∏', timingType: '–±—ã—Å—Ç—Ä—ã–π',
    cpl: [0, 2000], conv: [30, 60], minBudget: 0,
    works: { b2b: true, b2c: true, age_young: true, age_mid: true, age_old: true },
    why: '–¢—ë–ø–ª—ã–µ –ª–∏–¥—ã —Å –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–π –∫–æ–Ω–≤–µ—Ä—Å–∏–µ–π. –†–∞–±–æ—Ç–∞–µ—Ç –≤ –ª—é–±–æ–π –Ω–∏—à–µ –µ—Å–ª–∏ –≤—ã—Å—Ç—Ä–æ–∏—Ç—å –ø–∞—Ä—Ç–Ω—ë—Ä—Å–∫—É—é —Å–µ—Ç—å.',
    notFor: ['–ù–µ—Ç —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–π —Å–µ—Ç–∏'],
  },
  seo: {
    name: 'SEO + 2GIS', icon: 'üó∫Ô∏è', type: '–û—Ä–≥–∞–Ω–∏—á–µ—Å–∫–∏–π –ø–æ–∏—Å–∫',
    timing: '3‚Äì6 –º–µ—Å—è—Ü–µ–≤', timingType: '–¥–æ–ª–≥–æ—Å—Ä–æ—á–Ω—ã–π',
    cpl: [0, 1000], conv: [20, 40], minBudget: 20000,
    works: { b2b: false, b2c: true, age_young: true, age_mid: true, age_old: true },
    why: '–î–∞—ë—Ç —Å—Ç–∞–±–∏–ª—å–Ω—ã–π –ø–æ—Ç–æ–∫ –∫–ª–∏–µ–Ω—Ç–æ–≤ –±–µ–∑ –ø–æ—Å—Ç–æ—è–Ω–Ω—ã—Ö —Ä–∞—Å—Ö–æ–¥–æ–≤. –û—Å–æ–±–µ–Ω–Ω–æ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–µ–Ω –¥–ª—è –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ –±–∏–∑–Ω–µ—Å–∞ —á–µ—Ä–µ–∑ 2GIS.',
    notFor: ['–ù—É–∂–µ–Ω –±—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç', 'B2B'],
  },
};

// ‚îÄ‚îÄ‚îÄ –õ–û–ì–ò–ö–ê –í–´–ë–û–†–ê –ö–ê–ù–ê–õ–û–í ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
const selectChannels = (form) => {
  const isB2B = form.model === 'b2b' || form.model === 'both';
  const isB2C = form.model === 'b2c' || form.model === 'both';
  const isYoung = form.age === 'young'; // 18-30
  const isMid = form.age === 'mid';     // 30-50
  const isOld = form.age === 'old';     // 50+

  // –°–∫–æ—Ä–∏–Ω–≥ –∫–∞–∂–¥–æ–≥–æ –∫–∞–Ω–∞–ª–∞
  const scores = {};
  Object.entries(CHANNELS_DB).forEach(([key, ch]) => {
    let score = 0;
    if (isB2B && ch.works.b2b) score += 3;
    if (isB2C && ch.works.b2c) score += 3;
    if (isYoung && ch.works.age_young) score += 2;
    if (isMid && ch.works.age_mid) score += 2;
    if (isOld && ch.works.age_old) score += 2;
    // –ë–æ–Ω—É—Å –∑–∞ –±—é–¥–∂–µ—Ç
    if (ch.minBudget <= form.budget * 0.4) score += 1;
    scores[key] = score;
  });

  // –°–æ—Ä—Ç–∏—Ä—É–µ–º –∏ –±–µ—Ä—ë–º —Ç–æ–ø-3
  const sorted = Object.entries(scores).sort((a,b) => b[1]-a[1]);
  const top3Keys = sorted.slice(0,3).map(([k]) => k);
  const rest = sorted.slice(3).map(([k]) => k);

  return { top3: top3Keys, rest };
};

// ‚îÄ‚îÄ‚îÄ –ü–û–°–¢–†–û–ï–ù–ò–ï –†–ï–ó–£–õ–¨–¢–ê–¢–ê ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
const buildResult = (form) => {
  const { top3, rest } = selectChannels(form);
  const budget = +form.budget;
  const avgCheck = +form.avgCheck || 50000;

  // –†–∞—Å–ø—Ä–µ–¥–µ–ª—è–µ–º –±—é–¥–∂–µ—Ç 50/30/20
  const budgetSplit = [0.5, 0.3, 0.2];

  const channels = top3.map((key, i) => {
    const ch = CHANNELS_DB[key];
    const b = Math.round(budget * budgetSplit[i] / 1000) * 1000;
    const cpl = Math.round((ch.cpl[0] + ch.cpl[1]) / 2);
    const leads = cpl > 0 ? Math.round(b / cpl) : Math.round(b / 500);
    const convRate = (ch.conv[0] + ch.conv[1]) / 2 / 100;
    const clients = Math.max(1, Math.round(leads * convRate));
    const revenue = clients * avgCheck;
    const roi = b > 0 ? Math.round(revenue / b) : 99;
    const cac = clients > 0 ? Math.round(b / clients) : 0;

    return { ...ch, key, budget: b, cpl, leads, clients, revenue, roi, cac };
  });

  // –ò—Ç–æ–≥–æ
  const totalClients = channels.reduce((s, c) => s + c.clients, 0);
  const totalRevenue = channels.reduce((s, c) => s + c.revenue, 0);
  const totalRoi = budget > 0 ? Math.round(totalRevenue / budget) : 0;

  // –ù–µ —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–µ
  const notRec = rest.slice(0,3).map(key => {
    const ch = CHANNELS_DB[key];
    return { name: ch.name, icon: ch.icon, reason: ch.notFor[0] || '–ù–µ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–Ω–æ —Å–µ–π—á–∞—Å' };
  });

  // 30-–¥–Ω–µ–≤–Ω—ã–π –ø–ª–∞–Ω
  const plan = [
    {
      week: '–ù–µ–¥–µ–ª—è 1', title: '–ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞',
      tasks: [
        `–°–æ–∑–¥–∞—Ç—å –∞–∫–∫–∞—É–Ω—Ç—ã –≤ ${channels[0].name}`,
        '–ü–æ–¥–≥–æ—Ç–æ–≤–∏—Ç—å –ø–æ—Å–∞–¥–æ—á–Ω—É—é —Å—Ç—Ä–∞–Ω–∏—Ü—É / –ø—Ä–æ—Ñ–∏–ª—å',
        `–°–æ–±—Ä–∞—Ç—å ${channels[0].key === 'cold' ? '500 –∫–æ–Ω—Ç–∞–∫—Ç–æ–≤ —Ü–µ–ª–µ–≤–æ–π –∞—É–¥–∏—Ç–æ—Ä–∏–∏' : '3‚Äì5 —Ä–µ–∫–ª–∞–º–Ω—ã—Ö –∫—Ä–µ–∞—Ç–∏–≤–æ–≤'}`,
        '–ü—Ä–æ–ø–∏—Å–∞—Ç—å –æ—Ñ—Ñ–µ—Ä –∏ CTA (–ø—Ä–∏–∑—ã–≤ –∫ –¥–µ–π—Å—Ç–≤–∏—é)',
      ]
    },
    {
      week: '–ù–µ–¥–µ–ª—è 2', title: '–ó–∞–ø—É—Å–∫',
      tasks: [
        `–ó–∞–ø—É—Å—Ç–∏—Ç—å ${channels[0].name} —Å –±—é–¥–∂–µ—Ç–æ–º ${fmt(channels[0].budget/4)} ‚Ç∏/–Ω–µ–¥–µ–ª—é`,
        `–ó–∞–ø—É—Å—Ç–∏—Ç—å ${channels[1].name} –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ`,
        '–ü—Ä–æ–≤–µ—Ä—è—Ç—å –º–µ—Ç—Ä–∏–∫–∏ –∫–∞–∂–¥—ã–π –¥–µ–Ω—å',
        '–û—Ç–≤–µ—á–∞—Ç—å –Ω–∞ –≤—Å–µ –≤—Ö–æ–¥—è—â–∏–µ –ª–∏–¥—ã –≤ —Ç–µ—á–µ–Ω–∏–µ 15 –º–∏–Ω—É—Ç',
      ]
    },
    {
      week: '–ù–µ–¥–µ–ª—è 3', title: '–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è',
      tasks: [
        '–í—ã–∫–ª—é—á–∏—Ç—å –æ–±—ä—è–≤–ª–µ–Ω–∏—è —Å CTR < 1%',
        '–ú–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞—Ç—å —Ç–æ —á—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ +30% –±—é–¥–∂–µ—Ç–∞',
        `–ó–∞–ø—É—Å—Ç–∏—Ç—å ${channels[2].name}`,
        '–°—á–∏—Ç–∞—Ç—å CAC –ø–æ –∫–∞–∂–¥–æ–º—É –∫–∞–Ω–∞–ª—É',
      ]
    },
    {
      week: '–ù–µ–¥–µ–ª—è 4', title: '–ú–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ',
      tasks: [
        '–°—Ä–∞–≤–Ω–∏—Ç—å ROI –ø–æ –∫–∞–∂–¥–æ–º—É –∫–∞–Ω–∞–ª—É',
        '–£–¥–≤–æ–∏—Ç—å –±—é–¥–∂–µ—Ç –ª—É—á—à–µ–≥–æ –∫–∞–Ω–∞–ª–∞',
        '–°–Ω–∏–∑–∏—Ç—å –±—é–¥–∂–µ—Ç —Å–ª–∞–±–æ–≥–æ –Ω–∞ 20%',
        '–ì–æ—Ç–æ–≤–∏—Ç—å –ø–ª–∞–Ω –Ω–∞ —Å–ª–µ–¥—É—é—â–∏–π –º–µ—Å—è—Ü',
      ]
    },
  ];

  return { channels, notRec, totalClients, totalRevenue, totalRoi, plan, budget };
};

// ‚îÄ‚îÄ‚îÄ LOADING ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
const LoadingScreen = () => {
  const [step, setStep] = useState(0);
  const steps = ['–ê–Ω–∞–ª–∏–∑–∏—Ä—É–µ–º –Ω–∏—à—É –∏ –∞—É–¥–∏—Ç–æ—Ä–∏—é', '–ü–æ–¥–±–∏—Ä–∞–µ–º –ø–æ–¥—Ö–æ–¥—è—â–∏–µ –∫–∞–Ω–∞–ª—ã', '–°—á–∏—Ç–∞–µ–º CPL –∏ ROI –ø–æ –∫–∞–∂–¥–æ–º—É', '–°—Ç—Ä–æ–∏–º –±—é–¥–∂–µ—Ç–Ω—ã–π –ø–ª–∞–Ω', '–§–æ—Ä–º–∏—Ä—É–µ–º –ø–ª–∞–Ω –∑–∞–ø—É—Å–∫–∞'];
  useEffect(() => { const iv = setInterval(() => setStep(s => s < steps.length-1 ? s+1 : s), 500); return () => clearInterval(iv); }, []);
  return (
    <div className="loading-wrap">
      <div className="spinner" />
      <div className="loading-title">–ü–æ–¥–±–∏—Ä–∞–µ–º –∫–∞–Ω–∞–ª—ã‚Ä¶</div>
      <div className="loading-sub">–ê–Ω–∞–ª–∏–∑–∏—Ä—É–µ–º –≤–∞—à—É –Ω–∏—à—É –∏ –∞—É–¥–∏—Ç–æ—Ä–∏—é</div>
      <div className="loading-steps">
        {steps.map((s,i) => (
          <div key={i} className={`lst ${i < step ? 'done' : i === step ? 'active' : ''}`}>
            <div className="lst-dot" />{i < step ? '‚úì ' : ''}{s}
          </div>
        ))}
      </div>
    </div>
  );
};

// ‚îÄ‚îÄ‚îÄ RESULTS ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
const Results = ({ result, form, onReset }) => {
  const { channels, notRec, totalClients, totalRevenue, totalRoi, plan, budget } = result;
  return (
    <div className="results-wrap">
      <div className="results-header">
        <div className="step-number">–ê–Ω–∞–ª–∏–∑ –∑–∞–≤–µ—Ä—à—ë–Ω</div>
        <h2 className="results-title">–í–∞—à–∏ –∫–∞–Ω–∞–ª—ã —Ä–æ—Å—Ç–∞</h2>
        <p style={{fontSize:'13px',color:'var(--muted)'}}>
          –ü—Ä–∏ –±—é–¥–∂–µ—Ç–µ {fmt(budget)} ‚Ç∏/–º–µ—Å ‚Äî –æ–∂–∏–¥–∞–µ–º–æ {totalClients} –Ω–æ–≤—ã—Ö –∫–ª–∏–µ–Ω—Ç–æ–≤ ¬∑ ROI {totalRoi}x
        </p>
      </div>

      {/* CHANNEL CARDS */}
      <div className="channel-cards">
        {channels.map((ch, i) => (
          <div key={i} className={`channel-card ${i === 0 ? 'top-pick' : ''}`}>
            <div className="channel-card-header">
              <div className={`channel-rank rank-${i+1}`}>{i === 0 ? 'ü•á' : i === 1 ? 'ü•à' : 'ü•â'}</div>
              <div style={{flex:1}}>
                <div className="channel-card-title">{ch.icon} {ch.name}</div>
                <div className="channel-card-type">{ch.type}</div>
              </div>
              <div className="channel-timing">
                <div className="timing-label">–ü–µ—Ä–≤—ã–µ –ª–∏–¥—ã</div>
                <div className="timing-val">{ch.timing}</div>
              </div>
            </div>
            <div className="channel-metrics">
              <div className="metric-cell">
                <div className="metric-label">–ë—é–¥–∂–µ—Ç/–º–µ—Å</div>
                <div className="metric-val gold">{fmt(ch.budget)} ‚Ç∏</div>
              </div>
              <div className="metric-cell">
                <div className="metric-label">–õ–∏–¥–æ–≤</div>
                <div className="metric-val">{ch.leads}</div>
              </div>
              <div className="metric-cell">
                <div className="metric-label">–ö–ª–∏–µ–Ω—Ç–æ–≤</div>
                <div className="metric-val green">{ch.clients}</div>
              </div>
              <div className="metric-cell">
                <div className="metric-label">ROI</div>
                <div className="metric-val green">{ch.roi}x</div>
              </div>
            </div>
            <div className="channel-why">
              <span className="why-icon">üí°</span>
              <span>{ch.why}</span>
            </div>
          </div>
        ))}
      </div>

      {/* NOT RECOMMENDED */}
      {notRec.length > 0 && (
        <div className="not-rec-section">
          <div className="not-rec-title">‚ùå –ù–µ —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ–º —Å–µ–π—á–∞—Å:</div>
          <div className="not-rec-items">
            {notRec.map((r,i) => (
              <div key={i} className="not-rec-item">
                {r.icon} {r.name}
                <span className="not-rec-reason">‚Äî {r.reason}</span>
              </div>
            ))}
          </div>
        </div>
      )}

      {/* BUDGET TABLE */}
      <div className="budget-section">
        <div className="budget-header">
          <div className="budget-title">–ë—é–¥–∂–µ—Ç–Ω–∞—è —Å–º–µ—Ç–∞</div>
          <div className="budget-sub">–ö–∞–∫ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–∏—Ç—å {fmt(budget)} ‚Ç∏ –≤ –º–µ—Å—è—Ü</div>
        </div>
        <div style={{overflowX:'auto'}}>
          <table>
            <thead>
              <tr>
                <th>–ö–∞–Ω–∞–ª</th>
                <th>–ë—é–¥–∂–µ—Ç</th>
                <th>–õ–∏–¥–æ–≤</th>
                <th>–ö–ª–∏–µ–Ω—Ç–æ–≤</th>
                <th>CAC</th>
                <th>ROI</th>
              </tr>
            </thead>
            <tbody>
              {channels.map((ch,i) => (
                <tr key={i}>
                  <td>{ch.icon} {ch.name}</td>
                  <td>{fmt(ch.budget)} ‚Ç∏</td>
                  <td>{ch.leads}</td>
                  <td className="td-green">{ch.clients}</td>
                  <td>{fmt(ch.cac)} ‚Ç∏</td>
                  <td className="td-gold">{ch.roi}x</td>
                </tr>
              ))}
              <tr>
                <td>–ò–¢–û–ì–û</td>
                <td>{fmt(budget)} ‚Ç∏</td>
                <td>{channels.reduce((s,c)=>s+c.leads,0)}</td>
                <td className="td-green">{totalClients}</td>
                <td>{fmt(Math.round(budget/Math.max(totalClients,1)))} ‚Ç∏</td>
                <td className="td-gold">{totalRoi}x</td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>

      {/* 30-DAY PLAN */}
      <div className="plan-section">
        <div className="plan-title">30-–¥–Ω–µ–≤–Ω—ã–π –ø–ª–∞–Ω –∑–∞–ø—É—Å–∫–∞</div>
        <div className="plan-sub">–ß—Ç–æ –¥–µ–ª–∞—Ç—å –∫–∞–∂–¥—É—é –Ω–µ–¥–µ–ª—é</div>
        <div className="week-grid">
          {plan.map((w,i) => (
            <div key={i} className="week-card">
              <div className="week-label">{w.week}</div>
              <div className="week-title">{w.title}</div>
              <div className="week-tasks">
                {w.tasks.map((t,j) => (
                  <div key={j} className="week-task">
                    <span className="task-dot">‚Üí</span>
                    <span>{t}</span>
                  </div>
                ))}
              </div>
            </div>
          ))}
        </div>
      </div>

      {/* NEXT */}
      <div className="next-card">
        <div>
          <div className="next-label">–°–ª–µ–¥—É—é—â–∏–π —à–∞–≥</div>
          <div className="next-title">–ò—Ç–æ–≥–æ–≤—ã–π –ø–ª–∞–Ω ‚Äî –ê–≥–µ–Ω—Ç 5</div>
          <div className="next-desc">–ú–∞—Ä–∫–µ—Ç–∏–Ω–≥ –Ω–∞—Å—Ç—Ä–æ–µ–Ω. –¢–µ–ø–µ—Ä—å –≤—ã—Å—Ç—Ä–æ–∏–º –ø—Ä–æ—Ü–µ—Å—Å—ã –≤–Ω—É—Ç—Ä–∏ –±–∏–∑–Ω–µ—Å–∞.</div>
        </div>
        <button className="btn-next" onClick={() => {
          const raw = new URLSearchParams(window.location.search).get('profile');
          const suffix = raw ? '?profile=' + encodeURIComponent(raw) : '';
          window.location.href = 'https://svetlanaantiaging-design.github.io/agents/agent-5/' + suffix;
        }}>–ò—Ç–æ–≥–æ–≤—ã–π –ø–ª–∞–Ω ‚Üí</button>
      </div>
      <button className="btn-outline" onClick={onReset}>‚Üê –ü–µ—Ä–µ—Å—á–∏—Ç–∞—Ç—å</button>
    </div>
  );
};

// ‚îÄ‚îÄ‚îÄ INPUT FORM ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
const InputForm = ({ onSubmit }) => {
  const getProfile = () => {
    try { const p = new URLSearchParams(window.location.search).get('profile'); if (p) return JSON.parse(decodeURIComponent(p)); } catch {}
    return null;
  };
  const profile = getProfile();

  const [form, setForm] = useState({
    niche: profile?.industryLabel || '',
    model: profile?.businessModel === 'B2B' ? 'b2b' : profile?.businessModel === 'B2C' ? 'b2c' : '',
    age: '',
    budget: '',
    avgCheck: profile?.avgCheck?.replace(/[^\d]/g,'') || '',
  });

  const set = (k,v) => setForm(p => ({...p,[k]:v}));

  const canSubmit = form.niche && form.model && form.age && form.budget;

  return (
    <div>
      <div className="step-number">–ê–≥–µ–Ω—Ç 3 ‚Äî –ú–∞—Ä–∫–µ—Ç–∏–Ω–≥</div>
      <h2 className="step-heading">–ö–∞–∫–∏–µ –∫–∞–Ω–∞–ª—ã<br/>—Ä–∞–±–æ—Ç–∞—é—Ç –¥–ª—è –≤–∞—Å?</h2>
      <p className="step-hint">–û—Ç–≤–µ—Ç—å—Ç–µ –Ω–∞ 4 –≤–æ–ø—Ä–æ—Å–∞ ‚Äî –∞–≥–µ–Ω—Ç –ø–æ–¥–±–µ—Ä—ë—Ç –∫–∞–Ω–∞–ª—ã, –ø–æ—Å—á–∏—Ç–∞–µ—Ç –±—é–¥–∂–µ—Ç –∏ –¥–∞—Å—Ç –ø–ª–∞–Ω –Ω–∞ –ø–µ—Ä–≤—ã–π –º–µ—Å—è—Ü.</p>

      {profile && (
        <div style={{background:'#fffbee',border:'1px solid var(--gold-light)',borderRadius:'8px',padding:'12px 16px',marginBottom:'24px',fontSize:'12px',color:'var(--muted)'}}>
          ‚úì –î–∞–Ω–Ω—ã–µ –∏–∑ –∫–≤–∞–ª–∏—Ñ–∏–∫–∞—Ü–∏–∏ –ø–æ–¥—Å—Ç–∞–≤–ª–µ–Ω—ã
        </div>
      )}

      <div className="field">
        <label className="field-label">–í–∞—à–∞ –Ω–∏—à–∞ / –ø—Ä–æ–¥—É–∫—Ç <span>*</span></label>
        <input type="text" value={form.niche} onChange={e => set('niche',e.target.value)} placeholder="–ú–∞–Ω–∏–∫—é—Ä, –æ–Ω–ª–∞–π–Ω-–æ–±—É—á–µ–Ω–∏–µ, –∫–æ–Ω—Å–∞–ª—Ç–∏–Ω–≥, –¥–æ—Å—Ç–∞–≤–∫–∞ –µ–¥—ã‚Ä¶" />
      </div>

      <div className="field">
        <label className="field-label">–ú–æ–¥–µ–ª—å –±–∏–∑–Ω–µ—Å–∞ <span>*</span></label>
        <div className="chips">
          {[['b2c','B2C ‚Äî –ø—Ä–æ–¥–∞—é —Ñ–∏–∑–∏—á–µ—Å–∫–∏–º –ª–∏—Ü–∞–º'],['b2b','B2B ‚Äî –ø—Ä–æ–¥–∞—é –±–∏–∑–Ω–µ—Å–∞–º'],['both','–û–±–æ–∏–º']].map(([v,l]) => (
            <button key={v} className={`chip ${form.model===v?'selected':''}`} onClick={() => set('model',v)}>{l}</button>
          ))}
        </div>
      </div>

      <div className="field">
        <label className="field-label">–í–æ–∑—Ä–∞—Å—Ç –≤–∞—à–µ–π –∞—É–¥–∏—Ç–æ—Ä–∏–∏ <span>*</span></label>
        <div className="chips">
          {[['young','18‚Äì30 –ª–µ—Ç'],['mid','30‚Äì50 –ª–µ—Ç'],['old','50+ –ª–µ—Ç']].map(([v,l]) => (
            <button key={v} className={`chip ${form.age===v?'selected':''}`} onClick={() => set('age',v)}>{l}</button>
          ))}
        </div>
      </div>

      <div className="divider" />

      <div className="inline-2">
        <div className="field">
          <label className="field-label">–ú–µ—Å—è—á–Ω—ã–π –±—é–¥–∂–µ—Ç –Ω–∞ –º–∞—Ä–∫–µ—Ç–∏–Ω–≥ (‚Ç∏) <span>*</span></label>
          <input type="number" value={form.budget} onChange={e => set('budget',e.target.value)} placeholder="100000" />
        </div>
        <div className="field">
          <label className="field-label">–°—Ä–µ–¥–Ω–∏–π —á–µ–∫ (‚Ç∏)</label>
          <input type="number" value={form.avgCheck} onChange={e => set('avgCheck',e.target.value)} placeholder="50000" />
        </div>
      </div>

      <button className="btn-primary" onClick={() => canSubmit && onSubmit(form)} style={{opacity: canSubmit ? 1 : 0.5, cursor: canSubmit ? 'pointer' : 'not-allowed'}}>
        –ü–æ–¥–æ–±—Ä–∞—Ç—å –∫–∞–Ω–∞–ª—ã ‚Üí
      </button>
    </div>
  );
};

// ‚îÄ‚îÄ‚îÄ APP ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
const CHANNELS_SIDEBAR = [
  ['üîç','Google Ads'],['üì∏','Instagram'],['üéµ','TikTok'],['üíº','LinkedIn'],
  ['‚úàÔ∏è','Telegram'],['üìß','Email / DM'],['ü§ù','–†–µ—Ñ–µ—Ä–∞–ª—ã'],['üó∫Ô∏è','SEO / 2GIS'],
];

const App = () => {
  const [screen, setScreen] = useState('input');
  const [result, setResult] = useState(null);
  const [formData, setFormData] = useState(null);

  const handleSubmit = (f) => {
    setFormData(f);
    setScreen('loading');
    window.scrollTo(0,0);
    setTimeout(() => { setResult(buildResult(f)); setScreen('results'); }, 2400);
  };

  const topChannelKeys = result ? result.channels.map(c => c.key) : [];

  return (
    <div className="page">
      <div className="left-panel">
        <div className="logo">BusinessOS</div>
        <div className="agent-badge">–ê–≥–µ–Ω—Ç 3 ‚Äî –ú–∞—Ä–∫–µ—Ç–∏–Ω–≥</div>
        <div className="panel-title">
          {screen === 'input' && '–ú–∞—Ä–∫–µ—Ç–∏–Ω–≥\n–∫–∞–Ω–∞–ª—ã'}
          {screen === 'loading' && '–ê–Ω–∞–ª–∏–∑–∏—Ä—É–µ–º‚Ä¶'}
          {screen === 'results' && '–ö–∞–Ω–∞–ª—ã\n–ø–æ–¥–æ–±—Ä–∞–Ω—ã'}
        </div>
        <div className="panel-sub">
          {screen === 'input' && '–í—ã–±–µ—Ä–µ–º 3 —Ä–∞–±–æ—Ç–∞—é—â–∏—Ö –∫–∞–Ω–∞–ª–∞ –¥–ª—è –≤–∞—à–µ–π –Ω–∏—à–∏ –∏ –ø–æ—Å—á–∏—Ç–∞–µ–º –±—é–¥–∂–µ—Ç.'}
          {screen === 'results' && `${result?.totalClients} –∫–ª–∏–µ–Ω—Ç–æ–≤ ¬∑ ROI ${result?.totalRoi}x`}
        </div>
        <div className="channel-list">
          {CHANNELS_SIDEBAR.map(([icon, name], i) => {
            const key = ['google','instagram','tiktok','linkedin','telegram','cold','referral','seo'][i];
            const isTop = topChannelKeys.includes(key);
            return (
              <div key={i} className={`channel-item ${screen === 'results' ? (isTop ? 'active' : 'recommended') : ''}`}>
                <span className="ch-icon">{icon}</span>
                <span className="ch-name">{name}</span>
                {screen === 'results' && isTop && <span className="ch-badge top">–¢–û–ü</span>}
              </div>
            );
          })}
        </div>
      </div>

      <div className="right-panel">
        {screen === 'input' && <InputForm onSubmit={handleSubmit} />}
        {screen === 'loading' && <LoadingScreen />}
        {screen === 'results' && result && <Results result={result} form={formData} onReset={() => { setScreen('input'); setResult(null); window.scrollTo(0,0); }} />}
      </div>
    </div>
  );
};

ReactDOM.render(<App />, document.getElementById('root'));
</script>
</body>
</html>
